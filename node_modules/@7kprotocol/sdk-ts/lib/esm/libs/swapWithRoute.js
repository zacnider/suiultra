import { ProtocolContract } from "./protocols";
export async function swapWithRoute({ route, inputCoinObject, currentAccount, config, tx, }) {
    let inputTokenObject = inputCoinObject;
    let txbResultToReturn;
    for (const swap of route) {
        const ContractClass = ProtocolContract[swap.pool.type];
        const contractInstance = new ContractClass({
            swapInfo: swap,
            inputCoinObject: inputTokenObject,
            currentAccount,
            config,
        });
        const tokenOut = await contractInstance.swap(tx);
        inputTokenObject = tokenOut;
        txbResultToReturn = tokenOut;
    }
    return txbResultToReturn;
}
